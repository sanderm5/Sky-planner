---
import Badge from '../ui/Badge.astro';
---

<section class="relative min-h-screen flex items-center overflow-hidden pt-24 pb-16">
  <!-- Background gradient orbs -->
  <div class="absolute top-20 left-1/4 w-96 h-96 bg-primary-500/30 rounded-full filter blur-[128px] animate-pulse-slow"></div>
  <div class="absolute bottom-20 right-1/4 w-96 h-96 bg-primary-400/20 rounded-full filter blur-[128px] animate-pulse-slow" style="animation-delay: 2s;"></div>
  <div class="absolute top-1/2 right-1/3 w-64 h-64 bg-accent-amber/15 rounded-full filter blur-[100px] animate-pulse-slow" style="animation-delay: 4s;"></div>

  <div class="container-wide relative z-10 px-4 sm:px-6 lg:px-8">
    <div class="grid lg:grid-cols-[1fr_1.3fr] gap-12 lg:gap-12 items-center">
      <!-- Left: Text content -->
      <div class="text-left">
        <Badge class="mb-6" data-animate="fade-up">
          <svg class="w-3 h-3 mr-1.5" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
          </svg>
          14 dagers gratis prøveperiode
        </Badge>

        <h1 class="text-4xl sm:text-5xl lg:text-6xl font-bold mb-6 text-balance" data-animate="fade-up" data-animate-delay="100">
          Slutt å bruke tid på
          <span class="gradient-text"> administrasjon</span>
        </h1>

        <p class="text-lg sm:text-xl text-dark-300 mb-8 text-balance" data-animate="fade-up" data-animate-delay="200">
          Spar opptil 10 timer i uken. Sky Planner gir deg full kontroll over kunder, ruter og avtaler – så du kan fokusere på det som faktisk tjener penger.
        </p>

        <ul class="space-y-3 mb-8 text-dark-300" data-animate="fade-up" data-animate-delay="300">
          <li class="flex items-center gap-3">
            <svg class="w-5 h-5 text-secondary-500 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
            </svg>
            <span>Se alle kunder på kartet – planlegg ruter med ett klikk</span>
          </li>
          <li class="flex items-center gap-3">
            <svg class="w-5 h-5 text-secondary-500 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
            </svg>
            <span>Automatiske påminnelser før kontrollfrister</span>
          </li>
          <li class="flex items-center gap-3">
            <svg class="w-5 h-5 text-secondary-500 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
            </svg>
            <span>Alt du trenger – samlet på ett sted</span>
          </li>
        </ul>

        <div class="flex flex-col sm:flex-row gap-4 mb-6" data-animate="fade-up" data-animate-delay="400">
          <a href="/auth/registrer" class="btn-primary text-lg px-8 py-4">
            Kom i gang gratis
            <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6" />
            </svg>
          </a>
          <a href="/demo" class="btn-secondary text-lg px-8 py-4">
            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
            Se demo
          </a>
        </div>

        <p class="text-sm text-dark-500">
          Ingen kredittkort påkrevd. Klar på under 2 minutter.
        </p>
      </div>

      <!-- Right: Screenshot -->
      <div class="relative lg:scale-110 lg:origin-left" data-animate="fade-left" data-animate-delay="200">
        <button
          class="screenshot-3d border border-dark-700/50 cursor-zoom-in w-full rounded-2xl overflow-hidden shadow-2xl shadow-primary-500/10"
          onclick="openHeroLightbox()"
          aria-label="Forstørr skjermbilde"
        >
          <img
            src="/screenshots/screenshot-map-overview.jpg"
            alt="Sky Planner - Interaktivt kart med kundeadministrasjon"
            class="w-full h-auto"
            loading="eager"
          />
        </button>
      </div>
    </div>

    <!-- Trust badges -->
    <div class="mt-16 flex flex-wrap items-center justify-center lg:justify-start gap-8 text-dark-500" data-animate="fade-up">
      <div class="flex items-center gap-2">
        <svg class="w-5 h-5 text-secondary-500" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
        </svg>
        <span class="text-sm">GDPR-kompatibel</span>
      </div>
      <div class="flex items-center gap-2">
        <svg class="w-5 h-5 text-secondary-500" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd" />
        </svg>
        <span class="text-sm">Sikker datalagring</span>
      </div>
      <div class="flex items-center gap-2">
        <svg class="w-5 h-5 text-secondary-500" fill="currentColor" viewBox="0 0 20 20">
          <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z" />
        </svg>
        <span class="text-sm">Norsk support</span>
      </div>
    </div>

    <!-- Hero Lightbox -->
    <div id="hero-lightbox" class="hero-lightbox" onclick="closeHeroLightbox()">
      <img src="/screenshots/screenshot-map-overview.jpg" alt="Sky Planner - Interaktivt kart" />
      <p class="lightbox-hint">Klikk hvor som helst for å lukke</p>
    </div>
  </div>
</section>

<script is:inline>
  function openHeroLightbox() {
    document.getElementById('hero-lightbox').classList.add('active');
    document.body.style.overflow = 'hidden';
  }

  function closeHeroLightbox() {
    document.getElementById('hero-lightbox').classList.remove('active');
    document.body.style.overflow = '';
  }

  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') closeHeroLightbox();
  });
</script>

<style>
  .hero-lightbox {
    position: fixed;
    inset: 0;
    z-index: 100;
    background: rgba(0, 0, 0, 0.95);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 2rem;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease, visibility 0.3s ease;
    cursor: pointer;
  }

  .hero-lightbox.active {
    opacity: 1;
    visibility: visible;
  }

  .hero-lightbox img {
    max-width: 95vw;
    max-height: 90vh;
    object-fit: contain;
    border-radius: 1rem;
    box-shadow: 0 25px 80px rgba(0, 0, 0, 0.5);
    transform: scale(0.9);
    transition: transform 0.3s ease;
    pointer-events: none;
  }

  .hero-lightbox.active img {
    transform: scale(1);
  }

  .lightbox-hint {
    color: rgba(255, 255, 255, 0.5);
    font-size: 0.875rem;
    margin-top: 1rem;
    pointer-events: none;
  }
</style>
